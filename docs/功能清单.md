# 功能清单

## MVP 已完成 ✅

- [x] 用户注册/登录 (Supabase Auth)
- [x] AI 对话功能 (智谱 AI)
- [x] 对话界面
- [x] 匿名使用功能

---

## 待开发功能

### 1. 历史对话记录 ⭐⭐⭐ 高优先级

**描述：** 用户登录后能够查看历史对话记录

**功能点：**
- [ ] 侧边栏显示会话列表
- [ ] 显示会话标题（首条消息或AI生成）
- [ ] 显示会话时间
- [ ] 支持创建新对话
- [ ] 支持删除对话
- [ ] 支持切换对话
- [ ] 数据存储到数据库

**技术方案：**
- 后端：创建 `chat_sessions` 表存储会话元数据
- 前端：侧边栏显示会话列表
- 存储：Supabase Database / SQLite

---

### 2. 对话历史持久化 ⭐⭐⭐ 高优先级

**描述：** 对话消息持久化存储，下次打开仍可查看

**功能点：**
- [ ] 消息存储到数据库
- [ ] 加载历史消息
- [ ] 按会话分组显示

---

### 3. 用户个人中心 ⭐⭐ 中优先级

**描述：** 用户管理自己的账号

**功能点：**
- [ ] 查看个人信息
- [ ] 修改密码
- [ ] 退出登录
- [ ] 删除账户

---

### 4. 对话设置 ⭐⭐ 中优先级

**描述：** 用户自定义对话体验

**功能点：**
- [ ] AI 角色选择
- [ ] 对话语气设置
- [ ] 历史消息数量设置

---

## 长期功能规划

### 心理评估模块

- [ ] PHQ-9 抑郁筛查量表
- [ ] GAD-7 焦虑筛查量表
- [ ] 评估报告生成

### 情绪分析

- [ ] 用户输入情绪识别
- [ ] 情绪趋势图表
- [ ] 情绪日记

### 危机干预

- [ ] 高风险关键词检测
- [ ] 危机干预资源推荐
- [ ] 紧急联系方式

---

## 优先级排序

| 优先级 | 功能 | 预计工时 |
|--------|------|----------|
| P0 | 历史对话记录 | 2-3天 |
| P0 | 对话持久化 | 1-2天 |
| P1 | 用户个人中心 | 1-2天 |
| P2 | 心理评估模块 | 3-5天 |
| P2 | 情绪分析 | 3-4天 |
| P3 | 危机干预 | 2-3天 |
