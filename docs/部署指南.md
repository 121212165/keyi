# 可意AI心理医生 - 部署指南

## 快速部署（推荐）

### 前端部署 - Vercel

1. **Push代码到GitHub**（已完成）

2. **部署前端**：
   - 访问 [Vercel](https://vercel.com)
   - 使用GitHub登录
   - 点击 "New Project"
   - 选择 `keyi` 仓库
   - 选择 `frontend` 目录
   - 点击 "Deploy"

3. **配置环境变量**：
   - 在Vercel项目设置中添加：
     - `VITE_API_BASE_URL`: 你的后端地址（等后端部署完成后填入）

### 后端部署 - Railway

1. **部署后端**：
   - 访问 [Railway](https://railway.app)
   - 使用GitHub登录
   - 点击 "New Project"
   - 选择 "Deploy from GitHub repo"
   - 选择 `keyi` 仓库
   - 选择 `backend` 目录

2. **配置环境变量**：
   在 Railway 项目设置中添加：
   - `OPENAI_API_KEY`: 你的OpenAI API密钥

3. **获取后端URL**：
   - 部署完成后，Railway会提供一个URL，例如：`https://keyi-backend.up.railway.app`

4. **更新前端配置**：
   - 回到Vercel项目设置
   - 更新 `VITE_API_BASE_URL` 为 Railway 提供的URL

---

## 本地开发

```bash
# 1. 克隆项目
git clone https://github.com/121212165/keyi.git
cd keyi

# 2. 配置后端
cd backend
cp .env.example .env
# 编辑 .env 填入你的 OPENAI_API_KEY

# 3. 安装依赖并启动后端
pip install -r requirements.txt
python run.py
# 后端运行在 http://localhost:8000

# 4. 启动前端（新终端）
cd frontend
npm install
npm run dev
# 前端运行在 http://localhost:3000
```

---

## 部署检查清单

- [ ] 前端已部署到Vercel
- [ ] 后端已部署到Railway
- [ ] OpenAI API Key已配置
- [ ] 前端API地址已配置
- [ ] 测试聊天功能正常

---

## 常见问题

### Q: API调用失败
A: 检查后端是否正常运行，API地址是否正确

### Q: 回答很慢或没有回答
A: 检查OpenAI API Key是否正确，是否有余额

### Q: CORS错误
A: 后端已配置允许所有CORS，应该没问题。如果仍有问题，检查 Railway 的环境变量

---

## 下一步

1. 访问部署的URL
2. 测试聊天功能
3. 分享给朋友收集反馈
